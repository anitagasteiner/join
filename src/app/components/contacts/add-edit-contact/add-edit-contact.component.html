<div class="bg-container">
    
    <div class="add-edit-contact-container">

        <img src="/img/close.svg" (click)="generalService.hideContactForm()">

        <div class="top-container">
            @if (generalService.addContactFormOpened) {
                <h2>Add contact</h2>
            }
            @if (generalService.editContactFormOpened) {
                <h2>Edit contact</h2>
            }
            <div>Tasks are better with a team!</div>
        </div>
        
        <div class="bottom-container">

            @if (generalService.editContactFormOpened) {
                @if (selectedContact$ | async; as contact) {
                    <div class="contact-icon" [ngClass]="contact.color">{{ contact.name | initials }}</div>
                }
            }            
            @if (generalService.addContactFormOpened) {
                <div class="contact-icon">
                    <img src="/img/person-white.svg">
                </div>
            }

            @if (generalService.addContactFormOpened) {
                <app-add-contact-form></app-add-contact-form>
            }
            @if (generalService.editContactFormOpened && generalService.contactToBeEdited) {
                <app-edit-contact-form [contact]="generalService.contactToBeEdited" (updated)="onContactUpdated()" (cancelled)="generalService.hideContactForm()"></app-edit-contact-form>
            }

        </div>

    </div>

</div>